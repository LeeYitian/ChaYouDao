(self["webpackChunkfinal_vue"]=self["webpackChunkfinal_vue"]||[]).push([[498],{434:function(e,t,n){n(7658),n(1703),
/*!
  * Bootstrap collapse.js v5.2.1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(t,s){e.exports=s(n(1437),n(4130),n(7317),n(1884))}(0,(function(e,t,n,s){"use strict";const i=e=>e&&"object"===typeof e&&"default"in e?e:{default:e},o=i(t),l=i(n),a=i(s),r="collapse",c="bs.collapse",h=`.${c}`,u=".data-api",d=`show${h}`,g=`shown${h}`,f=`hide${h}`,p=`hidden${h}`,m=`click${h}${u}`,_="show",v="collapse",b="collapsing",w="collapsed",C=`:scope .${v} .${v}`,k="collapse-horizontal",y="width",A="height",L=".collapse.show, .collapse.collapsing",$='[data-bs-toggle="collapse"]',x={parent:null,toggle:!0},S={parent:"(null|element)",toggle:"boolean"};class T extends a.default{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const s=l.default.find($);for(const i of s){const t=e.getSelectorFromElement(i),n=l.default.find(t).filter((e=>e===this._element));null!==t&&n.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return x}static get DefaultType(){return S}static get NAME(){return r}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(L).filter((e=>e!==this._element)).map((e=>T.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;const t=o.default.trigger(this._element,d);if(t.defaultPrevented)return;for(const o of e)o.hide();const n=this._getDimension();this._element.classList.remove(v),this._element.classList.add(b),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(b),this._element.classList.add(v,_),this._element.style[n]="",o.default.trigger(this._element,g)},i=n[0].toUpperCase()+n.slice(1),l=`scroll${i}`;this._queueCallback(s,this._element,!0),this._element.style[n]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown())return;const t=o.default.trigger(this._element,f);if(t.defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,e.reflow(this._element),this._element.classList.add(b),this._element.classList.remove(v,_);for(const i of this._triggerArray){const t=e.getElementFromSelector(i);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(b),this._element.classList.add(v),o.default.trigger(this._element,p)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(_)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=e.getElement(t.parent),t}_getDimension(){return this._element.classList.contains(k)?y:A}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren($);for(const n of t){const t=e.getElementFromSelector(n);t&&this._addAriaAndCollapsedClass([n],this._isShown(t))}}_getFirstLevelChildren(e){const t=l.default.find(C,this._config.parent);return l.default.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle(w,!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"===typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const n=T.getOrCreateInstance(this,t);if("string"===typeof e){if("undefined"===typeof n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}return o.default.on(document,m,$,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();const n=e.getSelectorFromElement(this),s=l.default.find(n);for(const e of s)T.getOrCreateInstance(e,{toggle:!1}).toggle()})),e.defineJQueryPlugin(T),T}))},7317:function(e,t,n){n(7658),
/*!
  * Bootstrap selector-engine.js v5.2.1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(t,s){e.exports=s(n(1437))}(0,(function(e){"use strict";const t={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter((e=>e.matches(t)))},parents(e,t){const n=[];let s=e.parentNode.closest(t);while(s)n.push(s),s=s.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;while(n){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;while(n){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(n,t).filter((t=>!e.isDisabled(t)&&e.isVisible(t)))}};return t}))},3276:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(7658);function s(e){return{all:e=e||new Map,on:function(t,n){var s=e.get(t);s?s.push(n):e.set(t,[n])},off:function(t,n){var s=e.get(t);s&&(n?s.splice(s.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var s=e.get(t);s&&s.slice().map((function(e){e(n)})),(s=e.get("*"))&&s.slice().map((function(e){e(t,n)}))}}}const i=s();var o=i},1498:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var s=n(3396);function i(e,t,n,i,o,l){const a=(0,s.up)("ManagementNavbar"),r=(0,s.up)("router-view"),c=(0,s.up)("loadingComponent"),h=(0,s.up)("NotificationToast");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(a),(0,s.Wm)(r,{onLoading:l.changeLoading},null,8,["onLoading"]),(0,s.Wm)(c,{active:o.isLoading,loader:"bars","background-color":"#333"},null,8,["active"]),(0,s.Wm)(h)],64)}n(7658);var o=n(9242);const l={class:"navbar navbar-expand-lg bg-light manage-nav"},a={class:"container-fluid"},r=(0,s._)("span",{class:"material-symbols-outlined me-1"}," temp_preferences_eco ",-1),c=(0,s.Uk)("茶友道"),h=(0,s._)("span",{class:"navbar-toggler-icon"},null,-1),u=[h],d={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},g={class:"navbar-nav w-100"},f=(0,s.Uk)("產品管理"),p=(0,s.Uk)("訂單管理"),m=(0,s.Uk)("優惠券管理"),_=(0,s.Uk)("文章管理");function v(e,t,n,i,h,v){const b=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",l,[(0,s._)("div",a,[(0,s.Wm)(b,{to:"/",class:"navbar-brand text-primary fw-bold"},{default:(0,s.w5)((()=>[r,c])),_:1}),(0,s._)("button",{class:"navbar-toggler",type:"button",onClick:t[0]||(t[0]=(...e)=>v.showCollapse&&v.showCollapse(...e))},u),(0,s._)("div",d,[(0,s._)("div",g,[(0,s.Wm)(b,{to:"/dashboard/products",class:"nav-link"},{default:(0,s.w5)((()=>[f])),_:1}),(0,s.Wm)(b,{to:"/dashboard/orders",class:"nav-link"},{default:(0,s.w5)((()=>[p])),_:1}),(0,s.Wm)(b,{to:"/dashboard/coupons",class:"nav-link"},{default:(0,s.w5)((()=>[m])),_:1}),(0,s.Wm)(b,{to:"/dashboard/articles",class:"nav-link"},{default:(0,s.w5)((()=>[_])),_:1}),(0,s._)("a",{class:"nav-link ms-auto",href:"#",onClick:t[1]||(t[1]=(0,o.iM)(((...e)=>v.logout&&v.logout(...e)),["prevent"]))},"登出")])])])])}var b=n(434),w=n.n(b),C={data(){return{collapse:{}}},methods:{showCollapse(){this.collapse.toggle()},logout(){this.$emit("loading",!0);const e="https://vue3-course-api.hexschool.io/logout";this.$http.post(e).then((()=>{this.$emit("loading",!1),document.cookie="finalVue=; expires=Thu, 01 Jan 1970 00:00:00 UTC;",alert("已成功登出"),this.$router.push("/login")})).catch((e=>console.log(e)))}},emits:["loading"],mounted(){const e=document.querySelector(".collapse");this.collapse=new(w())(e,{toggle:!1})}},k=n(89);const y=(0,k.Z)(C,[["render",v]]);var A=y,L=n(3276),$={provide(){return{emitter:L.Z}},data(){return{isLoading:!1}},components:{ManagementNavbar:A},methods:{checkToken(){const e=document.cookie.split("; ").find((e=>e.startsWith("finalVue=")))?.split("=")[1],t="https://vue3-course-api.hexschool.io/api/user/check";this.$http.defaults.headers.common.Authorization=e,this.$http.post(t).then((e=>{e.data.success||(alert(e.data.message),this.$router.push("/login"))}))},changeLoading(e){this.isLoading=e}},created(){this.checkToken()},beforeUpdate(){this.checkToken()}};const x=(0,k.Z)($,[["render",i]]);var S=x}}]);
//# sourceMappingURL=498.fc1fdb53.js.map