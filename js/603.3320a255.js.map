{"version":3,"file":"js/603.3320a255.js","mappings":"+LAEIA,EAAAA,EAAAA,GAEM,OAFDC,MAAM,eAAa,EACtBD,EAAAA,EAAAA,GAA2E,MAAvEC,MAAM,wDAAuD,WADnE,G,GAGMA,MAAM,sB,GACLA,MAAM,a,SAC2CA,MAAM,O,GAMjDA,MAAM,oC,GACJA,MAAM,2B,aAMLA,MAAM,0B,GAEPA,MAAM,uD,GACNA,MAAM,gB,WACmD,Q,SAKhDA,MAAM,O,GACxBD,EAAAA,EAAAA,GAEM,OAFDC,MAAM,yCAAuC,EAChDD,EAAAA,EAAAA,GAA8C,MAA1CC,MAAM,cAAa,wBADzB,G,GAAAC,G,SAIoDD,MAAM,O,GACrDA,MAAM,yC,GACTD,EAAAA,EAAAA,GAA0C,MAAtCC,MAAM,gBAAe,gBAAY,G,WACjB,Q,0EApC9BE,EAAAA,EAAAA,IAyCM,YAxCJC,GAGAJ,EAAAA,EAAAA,GAoCO,OApCP,EAoCO,EAnCLA,EAAAA,EAAAA,GAkCM,MAlCN,EAkCM,EAjCQK,EAAAA,SAAWC,EAAAA,iBAAiBC,OAAM,eAA9CJ,EAAAA,EAAAA,IAqBM,MArBN,EAqBM,gBApBJA,EAAAA,EAAAA,IAmBMK,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAlBQH,EAAAA,kBAALI,K,WADTP,EAAAA,EAAAA,IAmBM,OAjBHQ,IAAKD,EAAEE,GACRX,MAAM,0BAHR,EAKED,EAAAA,EAAAA,GAaM,MAbN,EAaM,EAZJA,EAAAA,EAAAA,GAOM,MAPN,EAOM,EANJA,EAAAA,EAAAA,GAIE,OAHCa,IAAKH,EAAEI,SACRb,MAAM,oBACNc,IAAI,QAHN,WAKAf,EAAAA,EAAAA,GAAqD,KAArD,GAAqDgB,EAAAA,EAAAA,IAAfN,EAAEO,OAAK,MAE/CjB,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJA,EAAAA,EAAAA,GAAqD,IAArD,GAAqDgB,EAAAA,EAAAA,IAA1BV,EAAAA,KAAKI,EAAEQ,cAAW,IAC7CC,EAAAA,EAAAA,IAA8EC,EAAA,CAAhEC,GAAE,WAAaX,EAAEE,KAAMX,MAAM,kBAA3C,C,kBAA4D,IAAI,M,KAAhE,sBAhBN,UADF,eAsBWI,EAAAA,UAAAA,EAAAA,EAAAA,OAAXF,EAAAA,EAAAA,IAIM,MAJN,EAIMmB,KAJN,eAKYjB,EAAAA,SAAkC,IAAvBC,EAAAA,iBAAiBC,QAAxC,iBAA8C,WAA9CJ,EAAAA,EAAAA,IAKM,MALN,EAKM,EAJJH,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFJuB,GACAJ,EAAAA,EAAAA,IAAsCC,EAAA,CAAzBC,GAAG,KAAG,C,kBAAC,IAAI,M,6BASpC,GACEG,OACE,MAAO,CACLC,SAAU,GACVC,SAAS,EAEZ,EACDC,SAAU,CACRC,mBACE,GAAIC,aAAaC,QAAQ,eAAgB,CACvC,MAAMC,EAAMF,aAAaC,QAAQ,eAAeE,MAAM,KAChDC,EAAWC,KAAKT,SAASU,QAAQzB,GAAMqB,EAAIK,SAAS1B,EAAEE,MAC5D,OAAOqB,CACT,CACE,MAAO,EAEX,GAEFI,QAAS,CACPC,aACEJ,KAAKR,SAAU,EACf,MAAMa,EAAO,gEACbL,KAAKM,MAAMC,IAAIF,GAAKG,MAAMC,IACnBA,EAAInB,KAAKoB,UACZC,MAAMF,EAAInB,KAAKsB,SACfZ,KAAKa,QAAQC,QAEfd,KAAKT,SAAWkB,EAAInB,KAAKC,SACzBS,KAAKR,SAAU,CAAf,GAEH,EACDuB,KAAKA,GACH,MAAMlB,EAAMkB,EAAKjB,MAAM,IACjBkB,EAAMnB,EAAIoB,MAAM,EAAG,IAEzB,OADAD,EAAIE,KAAK,MACFF,EAAIG,KAAK,GAClB,GAEFC,UACEpB,KAAKI,YACN,EACDiB,UACE,MAAMC,EAAaC,SAASC,cAAc,gBAAgBC,aACpDC,EAASH,SAASC,cAAc,iBAAiBC,aACjDE,EAAeJ,SAASC,cAAc,kBAC5CG,EAAaC,MAAMC,UAAeC,OAAOC,YAAcT,EAAaI,EAAS,GAA7C,IAClC,G,QCvFF,MAAMM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://final_vue/./src/views/IndexFavorite.vue","webpack://final_vue/./src/views/IndexFavorite.vue?8c9c"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"favorite-bp\">\r\n      <h1 class=\"fw-semibold text-white py-1 px-3 text-nowrap rounded\">等待‧相見</h1>\r\n    </div>\r\n    <main class=\"pt-5 favorite-main\">\r\n      <div class=\"container\">\r\n        <div v-if=\"!getting && favoriteProducts.length > 0\" class=\"row\">\r\n          <div\r\n            v-for=\"i in favoriteProducts\"\r\n            :key=\"i.id\"\r\n            class=\"col-md-6 col-lg-4 mb-2\"\r\n          >\r\n            <div class=\"position-relative favorite-items\">\r\n              <div class=\"position-absolute front\">\r\n                <img\r\n                  :src=\"i.imageUrl\"\r\n                  class=\"img-fluid rounded\"\r\n                  alt=\"商品圖片\"\r\n                />\r\n                <h5 class=\"text-white fw-semibold\">{{ i.title }}</h5>\r\n              </div>\r\n              <div class=\"position-absolute p-3 bg-altowhite text-center back\">\r\n                <p class=\"text-primary\">{{ text(i.description) }}</p>\r\n                <router-link :to=\"`details/${i.id}`\" class=\"stretched-link\">詳細內容</router-link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"getting\" class=\"row\">\r\n          <div class=\"col-sm-8 col-lg-6 mx-auto text-center\">\r\n            <h5 class=\"text-muted\">等等喔，讓我們把你最愛的商品整理一下</h5>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"!getting && favoriteProducts.length === 0\" class=\"row\">\r\n          <div class=\"col-sm-8 col-lg-6 mx-auto text-center\">\r\n            <h5 class=\"text-primary\">還沒有你喜歡的商品呢……</h5>\r\n            <router-link to=\"/\">去逛逛吧</router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [],\r\n      getting: false\r\n    }\r\n  },\r\n  computed: {\r\n    favoriteProducts() {\r\n      if (localStorage.getItem('chaFavorite')) {\r\n        const arr = localStorage.getItem('chaFavorite').split(',')\r\n        const favorite = this.products.filter((i) => arr.includes(i.id))\r\n        return favorite\r\n      } else {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getProduct() {\r\n      this.getting = true\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.$http.get(url).then((res) => {\r\n        if (!res.data.success) {\r\n          alert(res.data.message)\r\n          this.$router.back()\r\n        }\r\n        this.products = res.data.products\r\n        this.getting = false\r\n      })\r\n    },\r\n    text(text) {\r\n      const arr = text.split('')\r\n      const str = arr.slice(0, 35)\r\n      str.push('……')\r\n      return str.join('')\r\n    }\r\n  },\r\n  created() {\r\n    this.getProduct()\r\n  },\r\n  mounted() {\r\n    const viewHeader = document.querySelector('.favorite-bp').offsetHeight\r\n    const footer = document.querySelector('.index-footer').offsetHeight\r\n    const favoriteMain = document.querySelector('.favorite-main')\r\n    favoriteMain.style.minHeight = `${window.innerHeight - viewHeader - footer + 50}px`\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./IndexFavorite.vue?vue&type=template&id=18cf7124\"\nimport script from \"./IndexFavorite.vue?vue&type=script&lang=js\"\nexport * from \"./IndexFavorite.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\依恬ㄟ資料夾\\\\六角學院\\\\Vue\\\\final_vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_hoisted_13","_createElementBlock","_hoisted_1","$data","$options","length","_Fragment","_renderList","i","key","id","src","imageUrl","alt","_toDisplayString","title","description","_createVNode","_component_router_link","to","_hoisted_14","_hoisted_17","data","products","getting","computed","favoriteProducts","localStorage","getItem","arr","split","favorite","this","filter","includes","methods","getProduct","url","$http","get","then","res","success","alert","message","$router","back","text","str","slice","push","join","created","mounted","viewHeader","document","querySelector","offsetHeight","footer","favoriteMain","style","minHeight","window","innerHeight","__exports__","render"],"sourceRoot":""}