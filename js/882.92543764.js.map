{"version":3,"file":"js/882.92543764.js","mappings":"+LAMOA,MAAM,kB,GACJA,MAAM,O,GACJA,MAAM,oB,GACFA,MAAM,+B,GACXC,EAAAA,EAAAA,GAEU,WAFDD,MAAM,uCAAsC,UAErD,G,GAEMA,MAAM,gB,GACRC,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,MAAE,G,GAGhBF,MAAM,gB,GACRC,EAAAA,EAAAA,GAAyB,MAArBC,MAAM,OAAM,QAAI,G,GAEXF,MAAM,mC,GAGHG,MAAM,O,GACNA,MAAM,KAAKH,MAAM,Y,GAGjBG,MAAM,KAAKH,MAAM,mC,GAQ3BA,MAAM,gB,GACRC,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,MAAE,G,GAMdE,QAAQ,IAAIJ,MAAM,iB,WAAgB,W,SAEfA,MAAM,gB,SACdA,MAAM,e,GAKpBA,MAAM,iD,GACXC,EAAAA,EAAAA,GAEU,WAFDD,MAAM,uCAAsC,WAErD,G,GAGIC,EAAAA,EAAAA,GAAY,UAAR,OAAG,G,GAIPA,EAAAA,EAAAA,GAAY,UAAR,OAAG,G,GAIPA,EAAAA,EAAAA,GAAY,UAAR,OAAG,G,GAIPA,EAAAA,EAAAA,GAAc,UAAV,SAAK,G,GAITA,EAAAA,EAAAA,GAAY,UAAR,OAAG,G,GAKRD,MAAM,iB,mGA7EjBK,EAAAA,EAAAA,IAIoBC,EAAA,CAHjBC,OAAQC,EAAAA,UACTC,OAAO,UACP,mBAAiB,QAHnB,oBAKAR,EAAAA,EAAAA,GAmFM,MAnFN,EAmFM,EAlFJA,EAAAA,EAAAA,GAiFM,MAjFN,EAiFM,EAhFJA,EAAAA,EAAAA,GA+EM,MA/EN,EA+EM,EA9EJA,EAAAA,EAAAA,GAyCQ,QAzCR,EAyCQ,CAxCNS,GAGAT,EAAAA,EAAAA,GA2BQ,eA1BNA,EAAAA,EAAAA,GAGK,KAHL,EAGK,CAFHU,GACAV,EAAAA,EAAAA,GAAuC,WAAAW,EAAAA,EAAAA,IAAhCC,EAAAA,SAASC,KAAKN,EAAAA,YAAS,MAEhCP,EAAAA,EAAAA,GAiBK,KAjBL,EAiBK,CAhBHc,GACAd,EAAAA,EAAAA,GAcK,YAbHA,EAAAA,EAAAA,GAYQ,QAZR,EAYQ,EAXNA,EAAAA,EAAAA,GAUQ,6BATNe,EAAAA,EAAAA,IAQKC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IARWV,EAAAA,eAALW,K,WAAXH,EAAAA,EAAAA,IAQK,MAR2BI,IAAKD,EAAEE,IAAvC,EACEpB,EAAAA,EAAAA,GAA0C,KAA1C,GAA0CW,EAAAA,EAAAA,IAAvBO,EAAEG,QAAQC,OAAK,IAClCtB,EAAAA,EAAAA,GAEK,KAFL,GAEKW,EAAAA,EAAAA,IADAO,EAAEK,KAAM,MAAEZ,EAAAA,EAAAA,IAAGO,EAAEG,QAAQG,MAAI,IAEhCxB,EAAAA,EAAAA,GAEK,KAFL,EAAuD,OACnDW,EAAAA,EAAAA,IAAGC,EAAAA,SAASa,SAASP,EAAEQ,cAAW,QANxC,eAaR1B,EAAAA,EAAAA,GAGK,KAHL,EAGK,CAFH2B,GACA3B,EAAAA,EAAAA,GAAyC,UAArC,MAAEW,EAAAA,EAAAA,IAAGC,EAAAA,SAASa,SAASlB,EAAAA,QAAK,QAGpCP,EAAAA,EAAAA,GAQQ,eAPNA,EAAAA,EAAAA,GAMK,YALHA,EAAAA,EAAAA,GAIK,KAJL,EAIK,GAFSO,EAAAA,UAAAA,EAAAA,EAAAA,OAAZQ,EAAAA,EAAAA,IAAoD,OAApD,EAA0C,UAA1C,WACAA,EAAAA,EAAAA,IAA2C,OAA3C,EAAiC,iBAKzCf,EAAAA,EAAAA,GA0BQ,QA1BR,EA0BQ,CAzBN4B,GAGA5B,EAAAA,EAAAA,GAqBQ,eApBNA,EAAAA,EAAAA,GAGK,WAFH6B,GACA7B,EAAAA,EAAAA,GAAwB,WAAAW,EAAAA,EAAAA,IAAjBJ,EAAAA,KAAKuB,MAAI,MAElB9B,EAAAA,EAAAA,GAGK,WAFH+B,GACA/B,EAAAA,EAAAA,GAAuB,WAAAW,EAAAA,EAAAA,IAAhBJ,EAAAA,KAAKyB,KAAG,MAEjBhC,EAAAA,EAAAA,GAGK,WAFHiC,GACAjC,EAAAA,EAAAA,GAAyB,WAAAW,EAAAA,EAAAA,IAAlBJ,EAAAA,KAAK2B,OAAK,MAEnBlC,EAAAA,EAAAA,GAGK,WAFHmC,GACAnC,EAAAA,EAAAA,GAA2B,WAAAW,EAAAA,EAAAA,IAApBJ,EAAAA,KAAK6B,SAAO,MAErBpC,EAAAA,EAAAA,GAGK,WAFHqC,GACArC,EAAAA,EAAAA,GAAsB,WAAAW,EAAAA,EAAAA,IAAfJ,EAAAA,SAAO,UAIpBP,EAAAA,EAAAA,GAQM,MARN,EAQM,EAPJA,EAAAA,EAAAA,GAMS,UALPsC,KAAK,SACLvC,MAAM,wBACLwC,QAAK,eAAEC,EAAAA,IAAIjC,EAAAA,WACb,iBA7ET,G,aAuFF,GACEkC,OAAQ,CAAC,WACTC,OACE,MAAO,CACLC,WAAW,EACXC,QAAS,GACTC,UAAW,GACXC,cAAe,GACfC,KAAM,CAAC,EACPC,QAAS,GACTC,QAAS,GACTC,MAAO,EAEV,EACDC,QAAS,CACPC,eAAehC,GACbiC,KAAKV,WAAY,EACjB,MAAMW,EAAO,0DAAkElC,IAC/EiC,KAAKE,MAAMC,IAAIF,GAAKG,MAAMC,IACxB,IAAKA,EAAIhB,KAAKiB,QAGZ,OAFAC,MAAMF,EAAIhB,KAAKM,cACfK,KAAKV,WAAY,GAGnB,IAAKe,EAAIhB,KAAKmB,MAGZ,OAFAD,MAAM,cACNP,KAAKS,QAAQC,KAAK,KAGpBV,KAAKR,UAAYa,EAAIhB,KAAKmB,MAAMhB,UAChCQ,KAAKP,cAAgB,GACrB,IAAK,MAAM5B,KAAKwC,EAAIhB,KAAKmB,MAAMG,SAC7BX,KAAKP,cAAciB,KAAKL,EAAIhB,KAAKmB,MAAMG,SAAS9C,IAElDmC,KAAKN,KAAOW,EAAIhB,KAAKmB,MAAMd,KAC3BM,KAAKL,QAAUU,EAAIhB,KAAKmB,MAAMb,QAC9BK,KAAKJ,QAAUS,EAAIhB,KAAKmB,MAAMZ,QAC9BI,KAAKH,MAAQQ,EAAIhB,KAAKmB,MAAMX,MAC5BG,KAAKV,WAAY,CAAjB,GAEH,EACDsB,IAAI7C,GACFiC,KAAKV,WAAY,EACjB,MAAMW,EAAO,wDAAgElC,IAC7EiC,KAAKE,MAAMW,KAAKZ,GAAKG,MAAMC,IACzB,IAAKA,EAAIhB,KAAKiB,QAAS,CACrB,MAAMQ,EAAW,CACfC,MAAOV,EAAIhB,KAAKiB,QAChBU,OAAQ,KACRC,IAAKZ,EAAIhB,KAAKM,SAIhB,OAFAK,KAAKkB,QAAQC,KAAK,gBAAiBL,QACnCd,KAAKV,WAAY,EAEnB,CACA,MAAMwB,EAAW,CACfC,MAAOV,EAAIhB,KAAKiB,QAChBU,OAAQ,KACRC,IAAKZ,EAAIhB,KAAKM,SAEhBK,KAAKkB,QAAQC,KAAK,gBAAiBL,GACnCd,KAAKD,eAAehC,EAApB,GAEJ,GAEFqD,UACEpB,KAAKT,QAAUS,KAAKqB,OAAOC,OAAOvD,GAClCiC,KAAKD,eAAeC,KAAKT,QAC3B,G,QC5JF,MAAMgC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://final_vue/./src/views/IndexOrderPayment.vue","webpack://final_vue/./src/views/IndexOrderPayment.vue?cde4"],"sourcesContent":["<template>\r\n  <loadingComponent\r\n    :active=\"isLoading\"\r\n    loader=\"spinner\"\r\n    background-color=\"#333\"\r\n  ></loadingComponent>\r\n  <div class=\"container pb-3\">\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-8 mx-auto\">\r\n        <table class=\"table bg-white text-primary\">\r\n          <caption class=\"caption-top h3 text-primary fw-bold\">\r\n            訂單資訊\r\n          </caption>\r\n          <tbody>\r\n            <tr class=\"align-middle\">\r\n              <th scope=\"row\">時間</th>\r\n              <td>{{ $filters.date(create_at) }}</td>\r\n            </tr>\r\n            <tr class=\"align-middle\">\r\n              <th scope=\"row\">訂單內容</th>\r\n              <td>\r\n                <table class=\"table table-sm table-borderless\">\r\n                  <tbody>\r\n                    <tr v-for=\"i in orderProducts\" :key=\"i.id\">\r\n                      <td width=\"100\">{{ i.product.title }}</td>\r\n                      <td width=\"50\" class=\"text-end\">\r\n                        {{ i.qty }} /{{ i.product.unit }}\r\n                      </td>\r\n                      <td width=\"80\" class=\"d-none d-sm-table-cell text-end\">\r\n                        $ {{ $filters.currency(i.final_total) }}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </td>\r\n            </tr>\r\n            <tr class=\"align-middle\">\r\n              <th scope=\"row\">總價</th>\r\n              <td>$ {{ $filters.currency(total) }}</td>\r\n            </tr>\r\n          </tbody>\r\n          <tfoot>\r\n            <tr>\r\n              <td colspan=\"3\" class=\"text-end fs-4\">\r\n                付款狀態：\r\n                <span v-if=\"is_paid\" class=\"text-success\">已付款</span>\r\n                <span v-else class=\"text-danger\">未付款</span>\r\n              </td>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n        <table class=\"table table-borderless table-striped bg-white\">\r\n          <caption class=\"caption-top h3 text-primary fw-bold\">\r\n            訂購者資訊\r\n          </caption>\r\n          <tbody>\r\n            <tr>\r\n              <td>姓名：</td>\r\n              <td>{{ user.name }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>手機：</td>\r\n              <td>{{ user.tel }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>信箱：</td>\r\n              <td>{{ user.email }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>收件地址：</td>\r\n              <td>{{ user.address }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>附註：</td>\r\n              <td>{{ message }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <div class=\"col-4 ms-auto\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-success w-100\"\r\n            @click=\"pay(orderID)\"\r\n          >\r\n            付款\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  inject: ['emitter'],\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      orderID: '',\r\n      create_at: '',\r\n      orderProducts: [],\r\n      user: {},\r\n      message: '',\r\n      is_paid: '',\r\n      total: 0\r\n    }\r\n  },\r\n  methods: {\r\n    getSingleOrder(id) {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${id}`\r\n      this.$http.get(url).then((res) => {\r\n        if (!res.data.success) {\r\n          alert(res.data.message)\r\n          this.isLoading = false\r\n          return\r\n        }\r\n        if (!res.data.order) {\r\n          alert('訂單不存在')\r\n          this.$router.push('/')\r\n          return\r\n        }\r\n        this.create_at = res.data.order.create_at\r\n        this.orderProducts = []\r\n        for (const i in res.data.order.products) {\r\n          this.orderProducts.push(res.data.order.products[i])\r\n        }\r\n        this.user = res.data.order.user\r\n        this.message = res.data.order.message\r\n        this.is_paid = res.data.order.is_paid\r\n        this.total = res.data.order.total\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    pay(id) {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${id}`\r\n      this.$http.post(url).then((res) => {\r\n        if (!res.data.success) {\r\n          const toastMsg = {\r\n            state: res.data.success,\r\n            action: '結帳',\r\n            msg: res.data.message\r\n          }\r\n          this.emitter.emit('indexToastMsg', toastMsg)\r\n          this.isLoading = false\r\n          return\r\n        }\r\n        const toastMsg = {\r\n          state: res.data.success,\r\n          action: '結帳',\r\n          msg: res.data.message\r\n        }\r\n        this.emitter.emit('indexToastMsg', toastMsg)\r\n        this.getSingleOrder(id)\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.orderID = this.$route.params.id\r\n    this.getSingleOrder(this.orderID)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./IndexOrderPayment.vue?vue&type=template&id=53bee67b\"\nimport script from \"./IndexOrderPayment.vue?vue&type=script&lang=js\"\nexport * from \"./IndexOrderPayment.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\依恬ㄟ資料夾\\\\六角學院\\\\Vue\\\\final_vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","width","colspan","_createVNode","_component_loadingComponent","active","$data","loader","_hoisted_5","_hoisted_7","_toDisplayString","_ctx","date","_hoisted_9","_createElementBlock","_Fragment","_renderList","i","key","id","product","title","qty","unit","currency","final_total","_hoisted_15","_hoisted_21","_hoisted_22","name","_hoisted_23","tel","_hoisted_24","email","_hoisted_25","address","_hoisted_26","type","onClick","$options","inject","data","isLoading","orderID","create_at","orderProducts","user","message","is_paid","total","methods","getSingleOrder","this","url","$http","get","then","res","success","alert","order","$router","push","products","pay","post","toastMsg","state","action","msg","emitter","emit","created","$route","params","__exports__","render"],"sourceRoot":""}