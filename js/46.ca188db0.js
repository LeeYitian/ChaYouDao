"use strict";(self["webpackChunkfinal_vue"]=self["webpackChunkfinal_vue"]||[]).push([[46],{2046:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var s=a(3396),n=a(7139);const i={class:"container"},r={class:"table-responsive-md"},o={class:"table table-hover text-primary mt-2 dashboard-table"},d=(0,s._)("thead",{class:"border-bottom border-primary border-2 bg-lightbrown"},[(0,s._)("tr",null,[(0,s._)("th",{width:"120"},"建立時間"),(0,s._)("th",{width:"200"},"訂單內容"),(0,s._)("th",{width:"80",class:"text-end"},"金額"),(0,s._)("th",{width:"80",class:"text-center"},"狀態"),(0,s._)("th",{width:"100",class:"text-center"},"付款")])],-1),l={class:"text-end"},c={class:"text-center"},u={key:0,class:"text-success"},h={key:1,class:"text-danger"},g={class:"text-center"},p=["onClick","disabled"];function b(t,e,a,b,_,w){const m=(0,s.up)("loadingComponent"),v=(0,s.up)("router-link"),f=(0,s.up)("PaginationBar");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(m,{active:_.isLoading,loader:"spinner","background-color":"#333"},null,8,["active"]),(0,s._)("div",i,[(0,s._)("div",r,[(0,s._)("table",o,[d,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(_.orders,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id,class:"align-middle bg-white"},[(0,s._)("td",null,(0,n.zw)(t.$filters.date(e.create_at)),1),(0,s._)("td",null,(0,n.zw)(w.orderContent(e.products)),1),(0,s._)("td",l,"$ "+(0,n.zw)(t.$filters.currency(e.total)),1),(0,s._)("td",c,[e.is_paid?((0,s.wg)(),(0,s.iD)("span",u,"付款")):((0,s.wg)(),(0,s.iD)("span",h,"未付款"))]),(0,s._)("td",g,[(0,s.Wm)(v,{to:`/order/${e.id}`,custom:""},{default:(0,s.w5)((({navigate:t})=>[(0,s._)("button",{type:"button",onClick:t,role:"link",class:"btn btn-primary",disabled:e.is_paid}," 前往付款 ",8,p)])),_:2},1032,["to"])])])))),128))])])])]),(0,s.Wm)(f,(0,s.dG)(_.pagination,{onPage:w.getOrders}),null,16,["onPage"])],64)}a(7658);var _={inject:["emitter"],data(){return{isLoading:!1,orders:[],pagination:{}}},methods:{getOrders(t=1){this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/api/lyt-api/orders?page=${t}`;this.$http.get(e).then((t=>{if(!t.data.success)return alert(t.data.message),void(this.isLoading=!1);this.orders=t.data.orders,this.pagination=t.data.pagination,this.isLoading=!1}))},orderContent(t){const e=[];for(const a in t)e.push(t[a].product.title);return e.join("、")}},created(){this.getOrders()}},w=a(89);const m=(0,w.Z)(_,[["render",b]]);var v=m}}]);
//# sourceMappingURL=46.ca188db0.js.map