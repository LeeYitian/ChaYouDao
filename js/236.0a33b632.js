(self["webpackChunkfinal_vue"]=self["webpackChunkfinal_vue"]||[]).push([[236],{1957:function(t,e,i){i(1703),
/*!
  * Bootstrap carousel.js v5.2.1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(e,s){t.exports=s(i(1437),i(4130),i(6221),i(7317),i(4378),i(1884))}(0,(function(t,e,i,s,n,a){"use strict";const r=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},l=r(e),o=r(i),c=r(s),d=r(n),u=r(a),h="carousel",_="bs.carousel",f=`.${_}`,g=".data-api",m="ArrowLeft",p="ArrowRight",v=500,b="next",y="prev",k="left",w="right",I=`slide${f}`,x=`slid${f}`,T=`keydown${f}`,C=`mouseenter${f}`,E=`mouseleave${f}`,$=`dragstart${f}`,L=`load${f}${g}`,S=`click${f}${g}`,A="carousel",D="active",P="slide",X="carousel-item-end",O="carousel-item-start",F="carousel-item-next",j="carousel-item-prev",N=".active",M=".carousel-item",z=N+M,H=".carousel-item img",W=".carousel-indicators",q="[data-bs-slide], [data-bs-slide-to]",R='[data-bs-ride="carousel"]',U={[m]:w,[p]:k},V={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Z={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class B extends u.default{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=c.default.findOne(W,this._element),this._addEventListeners(),this._config.ride===A&&this.cycle()}static get Default(){return V}static get DefaultType(){return Z}static get NAME(){return h}next(){this._slide(b)}nextWhenVisible(){!document.hidden&&t.isVisible(this._element)&&this.next()}prev(){this._slide(y)}pause(){this._isSliding&&t.triggerTransitionEnd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?l.default.one(this._element,x,(()=>this.cycle())):this.cycle())}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void l.default.one(this._element,x,(()=>this.to(t)));const i=this._getItemIndex(this._getActive());if(i===t)return;const s=t>i?b:y;this._slide(s,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&l.default.on(this._element,T,(t=>this._keydown(t))),"hover"===this._config.pause&&(l.default.on(this._element,C,(()=>this.pause())),l.default.on(this._element,E,(()=>this._maybeEnableCycle()))),this._config.touch&&d.default.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of c.default.find(H,this._element))l.default.on(i,$,(t=>t.preventDefault()));const t=()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),v+this._config.interval))},e={leftCallback:()=>this._slide(this._directionToOrder(k)),rightCallback:()=>this._slide(this._directionToOrder(w)),endCallback:t};this._swipeHelper=new d.default(this._element,e)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=U[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=c.default.findOne(N,this._indicatorsElement);e.classList.remove(D),e.removeAttribute("aria-current");const i=c.default.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(D),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(e,i=null){if(this._isSliding)return;const s=this._getActive(),n=e===b,a=i||t.getNextActiveElement(this._getItems(),s,n,this._config.wrap);if(a===s)return;const r=this._getItemIndex(a),o=t=>l.default.trigger(this._element,t,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:r}),c=o(I);if(c.defaultPrevented)return;if(!s||!a)return;const d=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(r),this._activeElement=a;const u=n?O:X,h=n?F:j;a.classList.add(h),t.reflow(a),s.classList.add(u),a.classList.add(u);const _=()=>{a.classList.remove(u,h),a.classList.add(D),s.classList.remove(D,h,u),this._isSliding=!1,o(x)};this._queueCallback(_,s,this._isAnimated()),d&&this.cycle()}_isAnimated(){return this._element.classList.contains(P)}_getActive(){return c.default.findOne(z,this._element)}_getItems(){return c.default.find(M,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return t.isRTL()?e===k?y:b:e===k?b:y}_orderToDirection(e){return t.isRTL()?e===y?k:w:e===y?w:k}static jQueryInterface(t){return this.each((function(){const e=B.getOrCreateInstance(this,t);if("number"!==typeof t){if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)}))}}return l.default.on(document,S,q,(function(e){const i=t.getElementFromSelector(this);if(!i||!i.classList.contains(A))return;e.preventDefault();const s=B.getOrCreateInstance(i),n=this.getAttribute("data-bs-slide-to");return n?(s.to(n),void s._maybeEnableCycle()):"next"===o.default.getDataAttribute(this,"slide")?(s.next(),void s._maybeEnableCycle()):(s.prev(),void s._maybeEnableCycle())})),l.default.on(window,L,(()=>{const t=c.default.find(R);for(const e of t)B.getOrCreateInstance(e)})),t.defineJQueryPlugin(B),B}))},4378:function(t,e,i){
/*!
  * Bootstrap swipe.js v5.2.1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(e,s){t.exports=s(i(2166),i(4130),i(1437))})(0,(function(t,e,i){"use strict";const s=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},n=s(t),a=s(e),r="swipe",l=".bs.swipe",o=`touchstart${l}`,c=`touchmove${l}`,d=`touchend${l}`,u=`pointerdown${l}`,h=`pointerup${l}`,_="touch",f="pen",g="pointer-event",m=40,p={endCallback:null,leftCallback:null,rightCallback:null},v={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class b extends n.default{constructor(t,e){super(),this._element=t,t&&b.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return p}static get DefaultType(){return v}static get NAME(){return r}dispose(){a.default.off(this._element,l)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),i.execute(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=m)return;const e=t/this._deltaX;this._deltaX=0,e&&i.execute(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(a.default.on(this._element,u,(t=>this._start(t))),a.default.on(this._element,h,(t=>this._end(t))),this._element.classList.add(g)):(a.default.on(this._element,o,(t=>this._start(t))),a.default.on(this._element,c,(t=>this._move(t))),a.default.on(this._element,d,(t=>this._end(t))))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===f||t.pointerType===_)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}return b}))},6719:function(t,e){"use strict";e["Z"]={data(){return{favorites:[]}},methods:{favorite(t,e){if(e.currentTarget.className.includes("fill")){const i=localStorage.getItem("chaFavorite").split(","),s=i.filter((e=>e!==t));localStorage.setItem("chaFavorite",s.join(",")),e.currentTarget.classList.remove("bi-heart-fill"),e.currentTarget.classList.add("bi-heart")}else{if(localStorage.getItem("chaFavorite")){const e=localStorage.getItem("chaFavorite")+","+t;localStorage.setItem("chaFavorite",e)}else localStorage.setItem("chaFavorite",t);e.currentTarget.classList.remove("bi-heart"),e.currentTarget.classList.add("bi-heart-fill")}},readFavorite(){localStorage.chaFavorite&&(this.favorites=localStorage.chaFavorite.split(","))}},mounted(){this.readFavorite()}}},5002:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return E}});var s=i(3396),n=i(7139);const a={class:"card bg-transparent border-0"},r=["onClick"],l=["src"],o={class:"card-body d-flex flex-column"},c={class:"card-title h5 text-darkgreen"},d={class:"card-text fw-light related-none"},u={class:"d-flex justify-content-between mt-1"},h={key:0,class:"position-relative related-none"},_={class:"badge rounded-pill text-bg-lightbrown position-absolute bottom-50 start-0 translate-middle-y text-decoration-line-through"},f={class:"text-danger fs-5"},g={key:1,class:"fs-5 text-lightgreen related-none"},m=(0,s.Uk)("詳細介紹"),p=["onClick"],v={key:0,class:"spinner-border spinner-border-sm text-secondary",role:"status"},b=(0,s._)("span",{class:"visually-hidden"},"Loading...",-1),y=[b],k=(0,s.Uk)(" 加入購物車 ");function w(t,e,i,b,w,I){const x=(0,s.up)("router-link");return(0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.selectProducts,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:(0,n.C_)(["col-lg-4 col-md-6 mb-5 indexProduct-items",{"indexProduct-items-sales":e.price<e.origin_price}])},[(0,s._)("div",a,[(0,s._)("i",{class:(0,n.C_)(["bi",{"bi-heart":!t.favorites.includes(e.id),"bi-heart-fill":t.favorites.includes(e.id)}]),onClick:i=>t.favorite(e.id,i)},null,10,r),(0,s._)("img",{src:e.imageUrl,class:"card-img-top rounded",alt:""},null,8,l),(0,s._)("div",o,[(0,s._)("h2",c,(0,n.zw)(e.title),1),(0,s._)("p",d,(0,n.zw)(I.text(e.description)),1),(0,s._)("div",u,[e.price<e.origin_price?((0,s.wg)(),(0,s.iD)("div",h,[(0,s._)("span",_,"原價$ "+(0,n.zw)(t.$filters.currency(e.origin_price)),1),(0,s._)("span",f,"$ "+(0,n.zw)(t.$filters.currency(e.price)),1)])):((0,s.wg)(),(0,s.iD)("span",g,"$ "+(0,n.zw)(t.$filters.currency(e.origin_price)),1)),(0,s.Wm)(x,{to:`/details/${e.id}`,class:"card-link link-darkgreen stretched-link"},{default:(0,s.w5)((()=>[m])),_:2},1032,["to"])])])]),(0,s._)("button",{class:(0,n.C_)(["btn btn-darkbrown w-100 related-none",{disabled:w.adding&&w.addID===e.id}]),onClick:t=>I.addToCart(e.id)},[w.adding&&w.addID===e.id?((0,s.wg)(),(0,s.iD)("div",v,y)):(0,s.kq)("",!0),k],10,p)],2)))),128)}i(7658);var I=i(6719),x={inject:["emitter"],props:["selectProducts"],mixins:[I.Z],data(){return{adding:!1,addID:""}},methods:{text(t){if(t.length>32){const e=t.split(""),i=e.slice(0,32);return i.push("……"),i.join("")}return t},addToCart(t,e=1){this.adding=!0,this.addID=t;const i="https://vue3-course-api.hexschool.io/api/lyt-api/cart",s={data:{product_id:t,qty:e}};this.$http.post(i,s).then((t=>{if(!t.data.success){const e={state:t.data.success,action:"購物車",msg:t.data.message};return this.emitter.emit("indexToastMsg",e),void(this.adding=!1)}const e={state:t.data.success,action:"加入購物車",msg:t.data.message};this.emitter.emit("indexToastMsg",e),this.emitter.emit("cart"),this.adding=!1}))}}},T=i(89);const C=(0,T.Z)(x,[["render",w]]);var E=C}}]);
//# sourceMappingURL=236.0a33b632.js.map